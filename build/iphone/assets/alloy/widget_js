var Alloy=require('/alloy'),widgets={};function ucfirst(a){return a?a[0].toUpperCase()+a.substr(1):a}module.exports=function(a){var b=this;return widgets[a]?widgets[a]:void(this.widgetId=a,this.Collections={},this.Models={},this.Shared={},this.createController=function(b,c){return new(require('/alloy/widgets/'+a+'/controllers/'+b))(c)},this.createCollection=function(b,c){return new(require('/alloy/widgets/'+a+'/models/'+ucfirst(b)).Collection)(c)},this.createModel=function(b,c){return new(require('/alloy/widgets/'+a+'/models/'+ucfirst(b)).Model)(c)},this.createWidget=Alloy.createWidget,this.Collections.instance=function(a){return b.Collections[a]||(b.Collections[a]=b.createCollection(a))},this.Models.instance=function(a){return b.Models[a]||(b.Models[a]=b.createModel(a))},widgets[a]=this)};